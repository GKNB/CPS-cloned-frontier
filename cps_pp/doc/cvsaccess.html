<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
               
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
  <title>CVS Access</title>
</head>
 <body>
       
<hr width="100%" size="2" align="Left" noshade="">    
<table cellpadding="2" cellspacing="2" border="0" width="100%">
      <tbody>
        <tr>
          <td valign="Top">                            
      <h1>CVS Access<br>
          </h1>
          </td>
          <td valign="Bottom" align="Right">The QCDOC Collaboration<br>
          </td>
        </tr>
               
  </tbody>    
</table>
       
<hr width="100%" size="2" align="Left" noshade=""><br>
 
<div align="Center"><font><small><a href="#Accessing_the_UKQCD_QCDOC_Code">
 access</a>
 </small></font><font><small> | </small></font><font><small><a href="#Submission_of_Changes">
 submission</a>
 </small></font><font><small> | </small></font><font><small><a href="#Using_ssh">
 ssh</a>
 </small></font><br>
 </div>
     
<h2><a name="Accessing_the_UKQCD_QCDOC_Code"></a>
 Accessing the CPS Code Repository</h2>
     To access the CVS repository, you need an account at Columbia.
To check out the current version of the Columbia code,
  you need to (in bash):<br>
       
<pre wrap=""><span class="moz-txt-citetags"></span>export CVSROOT=:pserver:<font color="#ff0000"><b>YOURUSERNAME</b></font>@localhost:/home/cvs/cps <br><span class="moz-txt-citetags"></span>
cvs -d :pserver:<font color="#ff0000"><b>YOURUSERNAME</b></font>@localhost:2401/home/cvs/cps login
<br>
cvs co -P cps++
</pre>
    This will then prompt you for your password at Columbia,
and then check the 
entire  codebase out into a directory called `cps++'.<br>
The -P flag is required so that empty directories are not
checked out. This will cause the build system to fail.

<p>
The access to CVS is slighty not standard. For example,
you can not use the standard ssh methods for remote access. As we
use a
<a href="http://cvsacl.sourceforge.net/">patched version of CVS</a>
 with secure branches,
to allow some code to be hidden from other collaborations.
Access is via the pserver method. For protection this is
routed through <a href="http://www.stunnel.org/">stunnel</a>.
<p>
For this to work the machine localhost should be running
a stunnel process. This needs to be done by someone
with root privileges. The following machines are running stunnel.

<ul>
<li>  qcdanly4    (Columbia)
<li>  qcdlinux1   (Columbia)
<li>  quark       (Brookhaven)
<li>  iasc7       (Liverpool)
</ul>  

At Liverpool I can log into iasc7 using
<pre> ssh iasc7 </pre>
from florence. Hence I can remotely check code
out of the CVS from florence by replacing localhost
with iasc7 on florence.

<p>
This is only relevant to the system administrator.
The command I run as root at Liverpool to get this to all
work is:
<pre>
/usr/sbin/stunnel -c -d 2401 -r qcdserver0.phys.columbia.edu:22401
</pre>
Most users do not need to know about stunnel.

<h2><a name="Submission_of_Changes"></a>

Submission of Changes</h2>
   Anyone who has checked out the code in the manner described above has
the  ability to commit their own changes to the repository. &nbsp;For the
time  being, we request that all changes are cleared/submitted by ourselves
so that we can retain overall control of the repository.
Eventually there will (probably) be a committee of people to "approve"
submissions, comprising of people 
from UKQCD, Columbia and BNL. The CVS log messages are
automatically send to the
<a href="http://forge.nesc.ac.uk/mailman/listinfo/qcd-measure-cps++-auto">qcd-measure-cps++-auto</a> email list. (There may be annoying requests for moderation
of the emails. These will stop once your email has been added to a list
of approved people who can post to the list.)


</p>
        <hr width="100%" size="2" align="Left" noshade="">    
        <div align="Right"><a href="mailto:mcneile@amtp.liv.ac.uk"><small>Craig
McNeile</small></a>
     - 2001</div>
       
        </body>
        </html>



