GNU package-type make is tried. Namely, you should:

mkdir <builddir>
cd <builddir>

WARNING: Do NOT place builddir under srcdir or the other way around. It
breaks the makefile

<srcdir>/configure for NOARCH (single node C++ codes)

or

<srcdir>/configure --build=sparc-sun-solaris2.9 --host=powerpc-gnu-elf
--enable-target=qcdoc QOS=(QOS directory)  for QCDOC on qcdochost0

Variable QOS should be set to point where QOS is installed.


If you don't want to figure out what the build and host should be, you
can use 'conf' script which generates command for configure:

<srcdir>/conf for NOARCH or
<srcdir>/conf --enable-target=qcdoc QOS=(QOS directory) for QCDOC, then

source config_wrapper


To compile, just type 'gmake'

if you want to build the library or executables from the source tree,
type 'gmake install' from the build tree before doing so. 'gmake
install' copies appropriate Makefile's to the source directory.

There is a template for the Makefile for executables in tests/Makefile_common.
You could copy this into your directories or use Makefile_regression which points to Makefile_common.

in the subdirectories, Makfiles look like this:
SEPARATE_LIB = yes
#LIB_NAME_SET = yes
NORECURSE_DIR = CVS  noarch qcdoc qcdsp 
QCDOC_DIR = noarch
QCDOC_SERIAL_DIR = noarch
QCDSP_DIR = qcdsp
MPI_DIR =  noarch
NOARCH_DIR = noarch
include ../../../../Makefile.rules

SEPARATE_LIB flag determines if each directories under which the flag is
defined will have separate
libraries. The names for the libraries will be the name of the
directories with '_' replacing '/'. Some common directory names wil be
ommited for brevity. 

LIB_NAME_SET  will do similar except it will have only one separate
libraries with the name set by the directory LIB_NAME is defined.

To help understanding, suppose we have directory structure like this:

src/util/dirac_op/d_op_wilson  /qcdoc1 /qcdoc1_1
				       	/qcdoc1_2	
				/qcdoc2
				/qcdsp1
				/qcdsp2
				/noarch
				
QCDOC_DIR = qcdoc1 qcdoc2
If SEPARATE_LIB is defined at src/util/dirac_op/d_op_wilson/Makefile, a
separate library d_op_wilson_qcdoc1_qcdoc1_1.a, d_op_wilson_qcdoc1_qcdoc_1_2.a, d_op_wilson_qcdoc2.a will be created if compiled for QCDOC. 

If LIB_NAME_SET is defined at src/util/dirac_op/d_op_wilson/qcdoc1/Makefile, d_op_wilson_qcdoc1.a will be generated instead.
