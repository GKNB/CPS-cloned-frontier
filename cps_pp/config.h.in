/*!\file
  \brief   Global options for compiling the Colombia code:

  @configure_input@

  $Id: config.h.in,v 1.5 2003-10-27 16:45:38 zs Exp $
*/
/* Global options for compiling the Colombia code:  
 * @configure_input@
 * 
 *    Currently, this fine copes with two different build environments,
 *       on QCDSP or not on QCDSP, as determined by a flag.
 *--------------------------------------------------------------------
 *  CVS keywords
 *
 *  $Author: zs $
 *  $Date: 2003-10-27 16:45:38 $
 *  $Header: /home/chulwoo/CPS/repo/CVS/cps_only/cps_pp/config.h.in,v 1.5 2003-10-27 16:45:38 zs Exp $
 *  $Id: config.h.in,v 1.5 2003-10-27 16:45:38 zs Exp $
 *  $Name: not supported by cvs2svn $
 *  $Locker:  $
 *  $RCSfile: config.h.in,v $
 *  $Revision: 1.5 $
 *  $Source: /home/chulwoo/CPS/repo/CVS/cps_only/cps_pp/config.h.in,v $
 *  $State: Exp $
 */
/* ------------------------------------------------------------------*/

#ifndef INCLUDED_CONFIG_H_
#define INCLUDED_CONFIG_H_                  //!< Prevent multiple inclusion 

/* Default is 1 => compilation for QCDSP */
#ifndef TARGET_QCDSP
#define TARGET_QCDSP 1
#endif

#if TARGET_QCDSP == 0   /* General non-QCDSP version: */

/* PARALLEL = 1 for parallel compilation, 0 for serial compilation */
#define PARALLEL @PARALLEL@
#if PARALLEL == 0 
#undef PARALLEL
#endif 


/*! Explicit casting away of the const-ness  */
#define CAST_AWAY_CONST(x) ( const_cast<char*>(x) )

/*!  Precision in the global sum (undefined gives QCDSP behaviour). */
#define GLOBALSUM_TYPE @GSUMPRECISION@

/*! Precision of the local calculations: rfloat, float, double. */
#define LOCALCALC_TYPE @LOCALPRECISION@

/*! Precision of internal calculations: float, double. */
#define INTERNAL_LOCALCALC_TYPE @LOCALPRECISION@

/*! Data size for the MPI comms layer: */
#define COMMS_DATASIZE (sizeof(@LOCALPRECISION@))

/*! Debugging flag: */
#ifndef VERBOSE
#define VERBOSE 
#endif

#define CPS_END_NAMESPACE } 
#define CPS_START_NAMESPACE  namespace cps {
#define USING_CPS_NAMESPACE  using namespace cps;

/* Override printf to only print on one proc (Not nec. on QCDSP, only
 *    expected to work via the MPI layer. */
#include<util/qcdio_qprintf.h>

/* ------------------------------------------------------------------*/
#else /* For compiling on QCDSP: */

#define TARGET_QCDSP 1
#define CPS_END_NAMESPACE 
#define CPS_START_NAMESPACE  
#define USING_NAMESPACE_CPS 

#define CAST_AWAY_CONST(x) ( x )
#define LOCALCALC_TYPE rfloat
#define INTERNAL_LOCALCALC_TYPE float
#define COMMS_DATASIZE 4

#ifndef _TARTAN  /* Not using TARTAN, so under the Sun CC compiler: */

#include<util/qcdio_qprintf.h>

#else  /* ELSE using TARTAN */

#define PARALLEL 1

#endif /* END of TARTAN */

#endif /* END of TARGET_QCDSP */

/* ------------------------------------------------------------------*/
/* Other overall definitions:   */
/* ------------------------------------------------------------------*/

#define SERIAL_SEED 112319

//! Default value for the verbosity level
/*! see the Verbose class for details. */

#define DEFAULT_VERBOSE_LEVEL -12100502

#endif /* INCLUDED_CONFIG_H_ */

