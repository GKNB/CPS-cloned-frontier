/*!\file
  \brief   Global options for compiling the Colombia code:

  Generated automatically from config.h.in by configure procedure.

  $Id: config.h.in,v 1.17 2004-09-17 18:06:07 chulwoo Exp $
*/
/* Global options for compiling the Columbia code:  
 * @configure_input@
 * 
 *--------------------------------------------------------------------
 *  CVS keywords
 *
 *  $Author: chulwoo $
 *  $Date: 2004-09-17 18:06:07 $
 *  $Header: /home/chulwoo/CPS/repo/CVS/cps_only/cps_pp/config.h.in,v 1.17 2004-09-17 18:06:07 chulwoo Exp $
 *  $Id: config.h.in,v 1.17 2004-09-17 18:06:07 chulwoo Exp $
 *  $Name: not supported by cvs2svn $
 *  $Locker:  $
 *  $RCSfile: config.h.in,v $
 *  $Revision: 1.17 $
 *  $Source: /home/chulwoo/CPS/repo/CVS/cps_only/cps_pp/config.h.in,v $
 *  $State: Exp $
 */
/* ------------------------------------------------------------------*/

#ifndef INCLUDED_CONFIG_H_
#define INCLUDED_CONFIG_H_                  //!< Prevent multiple inclusion 

#include <conf.h>

#define NOARCH 0
#define QCDOC  1
#define QCDSP  2
#define cpsMPI    3

#define VERSION_MAJOR @VERSION_MAJOR@
#define VERSION_MINOR @VERSION_MINOR@
#define VERSION_SUB @VERSION_SUB@
#define VERSION_STR @VERSION_STR@

#define TARGET @ARCH@
#@ENABLE_PARALLEL@

// The configure procedure should make this unnecessary, but just in case...
#ifndef TARGET
#define TARGET NOARCH
#endif

#if TARGET == QCDOC
#include<qcdocos.h>
#endif

#if TARGET == QCDOC
// temporary hack until qos is more mature
#define CWDPREFIX(A) "@CWD@/"A
#else
#define CWDPREFIX(A) A
#endif


#if TARGET != QCDSP        /* General non-QCDSP version: */

/*! Explicit casting away of the const-ness  */
#define CAST_AWAY_CONST(x) ( const_cast<char*>(x) )

/*!  Precision in the global sum (undefined gives QCDSP behaviour). */
#define GLOBALSUM_TYPE @GSUMPRECISION@

/*! Precision of the local calculations: rfloat, float, double. */
#define LOCALCALC_TYPE @LOCALPRECISION@

/*! Precision of internal calculations: float, double. */
#define INTERNAL_LOCALCALC_TYPE @LOCALPRECISION@


#define CPS_END_NAMESPACE    @CPS_END_NAMESPACE@  
#define CPS_START_NAMESPACE  @CPS_START_NAMESPACE@
#define USING_NAMESPACE_CPS  @USING_NAMESPACE_CPS@


#if TARGET == cpsMPI
/*! Data size for the MPI comms layer: */
#define COMMS_DATASIZE (sizeof(float))
/* Override printf to only print from only one processor */
#include<util/qcdio_qprintf.h>
#else
#define COMMS_DATASIZE (sizeof(@LOCALPRECISION@))
#endif


/* ------------------------------------------------------------------*/

#else /* For compiling on QCDSP: */

#define CPS_END_NAMESPACE 
#define CPS_START_NAMESPACE  
#define USING_NAMESPACE_CPS using namespace cps 
#define CAST_AWAY_CONST(x) ( x )
#define LOCALCALC_TYPE rfloat
#define INTERNAL_LOCALCALC_TYPE float
#define COMMS_DATASIZE 4
#include<util/qcdio_qprintf.h>

#ifdef _TARTAN  
#define PARALLEL 1
#endif /* END of TARTAN */


#endif /* END of TARGET_ */


#endif /* INCLUDED_CONFIG_H_ */





